<div class="mainL">
    <ul class="zfxxgklist">
        <li id="<TRS_CHANNEL ID='信息公开指南' FIELD='CHANNELID'/>"><a href="<TRS_CHANNEL ID='信息公开指南' FIELD='_RECURL'/>#<TRS_CHANNEL ID='信息公开指南' FIELD='CHANNELID'/>"><i class="iconfont">&#xe6f0;</i><span>政府信息<br />公开指南</span></a></li>
        <li class="li_<TRS_CHANNEL ID='信息公开相关制度' FIELD='CHANNELID'/>_li"><a href="<TRS_CHANNEL ID='信息公开相关制度' CHILDINDEX='0'  FIELD='_RECURL'/>#<TRS_CHANNEL ID='信息公开相关制度' CHILDINDEX='0' FIELD='CHANNELID'/>"><i class="iconfont">&#xe620;</i><span>政府信息<br />公开制度</span><em>-</em></a></li>
        <ul class="li_<TRS_CHANNEL ID='信息公开相关制度' FIELD='CHANNELID'/>">
            <trs_channels id="信息公开相关制度" startpos="0">
                <li id="<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                    <a href="<TRS_CHANNEL ID='OWNER' FIELD='_RECURL'/>#<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                        <trs_channel id="OWNER" FIELD='CHNLDESC' AUTOLINK="FALSE">子级栏目名称</trs_channel>
                    </a>
                </li>
            </trs_channels>
        </ul>
        <li class="li_<TRS_CHANNEL ID='信息公开目录' FIELD='CHANNELID'/>_li"><a href="<TRS_CHANNEL ID='云管局概况及职责' FIELD='_RECURL'/>#<TRS_CHANNEL ID='云管局概况及职责' FIELD='CHANNELID'/>"><i class="iconfont">&#xe606;</i><span>法定主动<br />公开内容</span><em>-</em></a></li>
        <ul class="li_<TRS_CHANNEL ID='信息公开目录' FIELD='CHANNELID'/>">
            <!-- <li class="active"><a href="#">履职依据</a></li>
            <li><a href="#">机关简介</a></li>
            <li><a href="#">规划信息</a></li>
            <li><a href="#">统计信息</a></li> -->
            <li id="<TRS_CHANNEL ID='云管局概况及职责' FIELD='CHANNELID'/>">
                <a href="<TRS_CHANNEL ID='云管局概况及职责' FIELD='_RECURL'/>#<TRS_CHANNEL ID='云管局概况及职责' FIELD='CHANNELID'/>">
                    机关简介
                </a>
            </li>
            <trs_channels id="信息公开目录" startpos="0">
                <TRS_CONDITION REFERENCE="政府采购" CONDITION="@CHNLNAME" OPERATOR="==">
                    <li id="<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                        <a href="<TRS_CHANNEL ID='OWNER' FIELD='_RECURL'/>#<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>" target="_blank">
                            <trs_channel id="OWNER" FIELD='CHNLDESC' AUTOLINK="FALSE">子级栏目名称</trs_channel>
                        </a>
                    </li>
                </TRS_CONDITION>
                <TRS_CONDITION REFERENCE="政府采购" CONDITION="@CHNLNAME" OPERATOR="==" NOT="TRUE">
                    <li id="<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                        <a href="<TRS_CHANNEL ID='OWNER' FIELD='_RECURL'/>#<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                            <trs_channel id="OWNER" FIELD='CHNLDESC' AUTOLINK="FALSE">子级栏目名称</trs_channel>
                        </a>
                    </li>
                </TRS_CONDITION>

            </trs_channels>
        </ul>
        <li class="li_<TRS_CHANNEL ID='政府信息公开年报' FIELD='CHANNELID'/>_li"><a href="<TRS_CHANNEL ID='政府信息公开年报' CHILDINDEX='0'  FIELD='_RECURL'/>#<TRS_CHANNEL ID='政府信息公开年报' CHILDINDEX='0' FIELD='CHANNELID'/>"><i class="iconfont">&#xe695;</i><span>政府信息<br />公开年报</span><em>+</em></a></li>
        <ul class="li_<TRS_CHANNEL ID='政府信息公开年报' FIELD='CHANNELID'/>">
            <!-- <li class="active"><a href="#">2018年</a></li>
            <li><a href="#">2017年</a></li>
            <li><a href="#">2016年</a></li> -->
            <trs_channels id="政府信息公开年报" startpos="0">
                <li id="<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                    <a href="<TRS_CHANNEL ID='OWNER' FIELD='_RECURL'/>#<TRS_CHANNEL ID='OWNER' FIELD='CHANNELID'/>">
                        <trs_channel id="OWNER" FIELD='CHNLDESC' AUTOLINK="FALSE">子级栏目名称</trs_channel>
                    </a>
                </li>
            </trs_channels>
        </ul>
    </ul>
</div>
<script>
    // 获取url值，根据#号分割，然后根据获取的值
    window.onload = function () {
        var activeId = window.location.hash.replace('#', '');
        var activeLiDom = $('#' + activeId);
        // 查找上级ul是否为class
        var ul = activeLiDom.parent("ul");
        if (ul) {
            $(ul).css('display', 'block');
            var cs = ul.attr('class');
            $('.' + (cs + '_li')).removeClass('active');
            $('.' + (cs + '_li')).addClass('active');
            // 修改+号为-号
            $('.' + (cs + '_li>a>em')).html('-');
        }
        $('#' + activeId).removeClass('active');
        $('#' + activeId).addClass('active');

        // 如果找到的是带有子节点的根节点，则如此操作
        var rootLi = $('.' + ('li_' + activeId + '_li'));
        if (rootLi.length > 0) {
            $('.' + ('li_' + activeId)).css('display', 'block');

            $('.' + ('li_' + activeId + '_li')).removeClass('active');
            $('.' + ('li_' + activeId + '_li')).addClass('active');
               // 修改+号为-号
            $('.' + ('li_' + activeId + '_li>a>em')).html('-');
        }


        var kidNode = $('.hasKidClass');
        if (kidNode.length > 0) {
            // 移除本身栏目分页列表
            $('.selfPageInfo').remove();
        } else {
            $('.selfClassInfo').remove();
        }
    }
</script>